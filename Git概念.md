#Git概念
介绍git的用途，使用场景，使用原理等内容。

https://www.liaoxuefeng.com/wiki/896043488029600/896067008724000

## 版本控制系统介绍

Git是目分布式版本控制系统,这之前先来了解下什么是版本控制系统。
版本控制是一个开发者最重要的工具之一，由于开发者经常性的修改代码，如果不做出一定的版本控制仅靠注释掉或者备份的形式进行，那么在经过一段时间后，先不说是否能记住更改的地方，能不能还原到想要的版本都是非常困难的。如果一个是团队并行进行工作，需要经常性的同时处理同一个文件，如果没有一定的版本控制机制，将会是怎样的混乱情况。
软件开发工作往往是多人协同作业，版本控制系统可以有效地解决版本的同步以及不同开发者之间的开发通信问题，提高协同开发的效率。
https://blog.csdn.net/qq_41596356/article/details/120592036

https://www.runoob.com/git/git-tutorial.html

## 版本控制系统分类

​	集中式版本控制系统顾名思义，其版本库是集中存放在中央服务器的，需要协同工作的人通过本地客户端连接到中央服务器之后获取最新的软件版本，当进行一定的修改后便可以提交更新。
集中式版本控制系统必须联网才能工作，这个特性在局域网中速度很快，但是在互联网上，遇到网速慢的话，可能提交一个10M的文件就需要5分钟。
分布式版本控制，又称去中心化版本控制（decentralized version control），在分布式版本控制系统（DVCS）中，每一个开发者都同时拥有一个用于当前文件操作的工作区与一个用于存储该项目所有版本、分支以及标签的本地版本库。

###集中式与分布式比较

​	分布式版本控制系统用点对点网络的作法来处理版本控制，而集中式版本控制系统则是用主从式架构的作法。分布式版本控制系统同步各软件存储库的方式是用点对点网络的方式发送Patch。在代码库中没有单一的中央版本，每一个用户都有工作副本以及完整的变更历史。

####分布式优点

- 用户在没有网络的情形下，也可以访问其电脑中的软件存储库；
- 不需要和中央服务器通信即可达成提交、切换分支、合并等操作，因此速度很快。只有要和其他人分享变更内容时才需要通信；
- 允许个人作业，用户可以将不希望公开的早期修改（甚至是草稿）上传；
- 工作副本的作用类似远程备份，因此不会依赖单一的实体机器，带来单点失效的风险；
- 允许不同的开发模型，例如用分支或Commander/Lieutenant模型；
- 在自由及开放源代码软件项目中，若有管理上的冲突或是设计上的不一定，很容易可以从一项目中分叉出新的项目。


#### 分布式缺点

- 一开始复制软件存储库会比较慢，因为默认设值会复制所有的分支以及版本历史；
- 缺乏了集中式版本控制系统中有的锁定机能，针对一些无法用版本控制系统合并的二进制文件（例如图形档），或是太复杂的二进制或XML文件；
- 每一个用户都需要备份所有的资料、分支及版本历史，因此需要额外的存储空间；
- 各软件存储库内容不一定同步。

####集中式优点

- 操作简单，使用没有难度，可轻松上手；
- 文件夹级权限控制，权限控制粒度小；
- 对客户端配置要求不高，无需存储全套代码。

####集中式缺点

- 网络环境要求高，相关人员必须联网才能工作；
- 中央服务器的单点故障影响全局，如果服务器宕机，所有人都无法工作；
- 中央服务器在没有备份的情况下，磁盘一旦被损坏，将丢失所有数据。

## git介绍

Git 是一款免费的、开源的、分布式的版本控制系统。分布式版本控制软件，最初由[林纳斯·托瓦兹](https://zh.wikipedia.org/wiki/%E6%9E%97%E7%BA%B3%E6%96%AF%C2%B7%E6%89%98%E7%93%A6%E5%85%B9)创作，于2005年以GPL发布。最初目的是为更好地管理Linux内核开发而设计。

### 优点

简单易用，同时保留现存文件的访问权限和网络访问权限。
版本库本地化，支持离线提交，相对独立不影响协同开发。
支持快速切换分支方便合并，比较合并性能好。
分布式版本库，无单点故障，内容完整性好。
采用分布式容错网络架构。
针对快速提交和检出进行了优化。
通过使用不可变日志实现非破坏性更新。

### 缺点

对于大型的二进制文件支持稍弱。
有一定的学习门槛。
不符合常规思维。
没有严格的权限控制，一般是通过系统设置文件的读写权限来做权限控制。

# git 安装

### Linux

首先检查是否已安装.

```
$ git
The program 'git' is currently not installed. You can install it by typing:
sudo apt-get install git
```



### Mac OS X

#### 通过homebrew安装Git



#### 从AppStore安装Xcode



### Windows



# git 配置

因为Git是分布式版本控制系统，所以，每个机器都必须自报家门：你的名字和Email地址。你也许会担心，如果有人故意冒充别人怎么办？这个不必担心，首先我们相信大家都是善良无知的群众，其次，真的有冒充的也是有办法可查的。

注意`git config`命令的`--global`参数，用了这个参数，表示你这台机器上所有的Git仓库都会使用这个配置，当然也可以对某个仓库指定不同的用户名和Email地址。

```
$ git config --global user.name "Your Name"
$ git config --global user.email "email@example.com"
```



# git术话

- **工作区：**就是你在电脑里能看到的目录。
- **暂存区：**英文叫 stage 或 index。一般存放在 .git 目录下的 index 文件（.git/index）中，所以我们把暂存区有时也叫作索引（index）。
- **版本库：**工作区有一个隐藏目录 .git，这个不算工作区，而是 Git 的版本库。

https://www.runoob.com/git/git-tutorial.html

下面这个图展示了工作区、版本库中的暂存区和版本库之间的关系：

![img](E:\gitApp\vuepress-devkit\image\1352126739_7909.jpg)

- 图中左侧为工作区，右侧为版本库。在版本库中标记为 "index" 的区域是暂存区（stage/index），标记为 "master" 的是 master 分支所代表的目录树。

- 图中我们可以看出此时 "HEAD" 实际是指向 master 分支的一个"游标"。所以图示的命令中出现 HEAD 的地方可以用 master 来替换。

- 图中的 objects 标识的区域为 Git 的对象库，实际位于 ".git/objects" 目录下，里面包含了创建的各种对象及内容。

- ​

  # git工作流程

  一般工作流程如下：

  - 克隆 Git 资源作为工作目录。
  - 在克隆的资源上添加或修改文件。
  - 如果其他人修改了，你可以更新资源。
  - 在提交前查看修改。
  - 提交修改。
  - 在修改完成后，如果发现错误，可以撤回提交并再次修改并提交。

  下图展示了 Git 的工作流程：

  ![img](E:\gitApp\vuepress-devkit\image\git-process.png)

  ​

- 当对工作区修改（或新增）的文件执行 git add 命令时，暂存区的目录树被更新，同时工作区修改（或新增）的文件内容被写入到对象库中的一个新的对象中，而该对象的ID被记录在暂存区的文件索引中。

- 当执行提交操作（git commit）时，暂存区的目录树写到版本库（对象库）中，master 分支会做相应的更新。即 master 指向的目录树就是提交时暂存区的目录树。

- 当执行 git reset HEAD 命令时，暂存区的目录树会被重写，被 master 分支指向的目录树所替换，但是工作区不受影响。

- 当执行 git rm --cached <file> 命令时，会直接从暂存区删除文件，工作区则不做出改变。

- 当执行 git checkout . 或者 git checkout -- <file> 命令时，会用暂存区全部或指定的文件替换工作区的文件。这个操作很危险，会清除工作区中未添加到暂存区中的改动。

- 当执行 git checkout HEAD . 或者 git checkout HEAD <file> 命令时，会用 HEAD 指向的 master 分支中的全部或者部分文件替换暂存区和以及工作区中的文件。这个命令也是极具危险性的，因为不但会清除工作区中未提交的改动，也会清除暂存区中未提交的改动。